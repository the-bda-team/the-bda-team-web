---
layout: base
---
{%- assign person_id = page.name | remove: ".html" -%}
{%- assign person = site.data.people | where: "id", person_id | first -%}

{%- assign publications_people = site.data.publications | unique_authors %}
{%- assign authorString = person.name | join: "_" -%}
{%- assign event_people = site.data.events | map: "people" | uniq -%}

<h1>{% if person.title %}{{ person.title }} {% endif -%}{{ person.name[0] }} {{ person.name[1] }}</h1>

<div class="entry">
{% include person/person.html person=person personal=true %}
</div>

<div class="cv">
{{ content }}
</div>

<div class="filter">
<input type="text" placeholder="Type here to filter the records below&hellip;"><br>
<span class="resources">
{%- if publications_people contains authorString %}<a href="#publications">publications</a> {% endif -%}
{%- if event_people contains person_id %}<a href="#events">events</a> {% endif -%}
</span>
<div id="filtered-all-message" aria-hidden="true">Nothing matches your filter</div>
</div>

{%- if publications_people contains authorString %}
<details id="publications" class="section" open><summary><h2>Publications</h2></summary>

{% include publication/publications.html publications=site.data.publications headings="h3" by=person_id %}
</details>
{% endif %}

{%- if event_people contains person_id %}
<details id="events" class="section" open><summary><h2>Events</h2></summary>

{% include event/events.html events=site.data.events headings="h3" by=person_id %}
</details>
{% endif %}


{% assign event_people = site.data.events | map: "people" | uniq %}
