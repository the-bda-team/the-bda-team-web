{%- comment %}
Parameters:
  - events. List of events, ordered by time
  - headings. Tag for year headings, if any
  - by. Print only events by this person (leave nil for all events)
{% endcomment -%}

{% assign eventsByYear = include.events | resources_by: include.by | group_by: "year" %}
{% for eventsOfYear in eventsByYear %}
{% if include.headings %}<{{ include.headings }} id="events-year{{ eventsOfYear.name }}">{{ eventsOfYear.name }}<a class="back-to-top" href="#" title="To top">^</a></{{ include.headings }}>{% endif %}
<ul class="entries events"{% if include.headings %} data-headings="events-year{{ eventsOfYear.name }}"{% endif %}>
{%- for event in eventsOfYear.items %}
{% include event/event.html event=event %}
{%- endfor %}
</ul>
{% endfor %}
